<!DOCTYPE html>
<html>
<head>
  <link href='https://fonts.googleapis.com/css?family=Roboto' rel='stylesheet'>
  <% include ../../../partials/header.ejs %>
  <title><%= process.env.TITLE %> - <%= notificationGroup.name %></title>
</head>

<body style="text-align:center">

  <% include ../../../partials/pre-nav.ejs %>
    <li><a href='/developer'>Developer Dashboard</a></li>
    <% if (notificationGroup.organisation.image) { %>
      <li><a class='no-padding' href='/organisation/<%= notificationGroup.organisation._id %>'><img style="height:50px;" src='/image/<%= notificationGroup.organisation.image %>'></a></li>
    <% } else { %>
      <li><a href='/organisation/<%= notificationGroup.organisation._id %>'><%= notificationGroup.organisation.name %></a></li>
    <% } %>
  <% include ../../../partials/post-nav.ejs %>

  <div id='notifications-list' class="two-column grid" style="width:49%">
    <% for (var i=0; i<notifications.length; i++) { %>
      <div class="card shadowed rounded notification-container">
        <div class="grid">
          <div>
            <img class="grid" src='/images/notify-badge.png'>
            <div class="grid">Notify</div>
            <% var time = new Date(notifications[i].created); %>
            <% if (new Date() - new Date(notifications[i].created) < 86400000) { %>
              <p class="grid no-padding" style=""><%= time.toLocaleString('en-GB', { hour: 'numeric',minute:'numeric', hour12: true }) %></p>
            <% } else { %>
              <p class="grid no-padding"><%= time.getDate() %>/<%= time.getMonth()+1 %>/<%= time.getYear()-100 %> <%= time.toLocaleString('en-GB', { hour: 'numeric',minute:'numeric', hour12: true }) %></p>
            <% } %>
          </div>

          <% if (notifications[i].title.length < 40) { %>
            <b><%= notifications[i].title %></b>
          <% } else { %>
            <b><%= notifications[i].title.match(/(.{1,40}\w)\s/)[1]%>...</b>
          <% } %>

          <% if (notifications[i].message.length < 80) { %>
            <p><%= notifications[i].message %></p>
          <% } else { %>
            <p><%= notifications[i].message.match(/(.{1,80}\w)\s/)[1]%>...</p>
          <% } %>

        </div>

        <% if (notifications[i].image) { %>
          <img class="grid" src="/image/<%= notifications[i].image %>">
        <% } %>
      </div>
    <% } %>
  </div>

  <div class="two-column grid" style="width:49%;">
    <div class="card rounded shadowed" style='margin:0px auto;width:80%;height:85vh'>
      test
    </div>
  </div>

</body>
<script>
console.log(document.getElementsByTagName('body')[0].clientHeight)
</script>
</html>
